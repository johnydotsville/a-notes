# Классическая реализация (Хоара)

## Идея

Классическая реализация называется `реализация Хоара`. 

Ее особенности:

* В качестве опорного элемента берется центральный элемент массива.
* Для сравнения элементов используются два указателя. Они двигаются от краев массива к центральному элементу.
* Используется рекурсия.

Описание:

* Выбираем "опору". В классической реализации - это центральный элемент массива.
* Основная идея: 
  * Расположить слева от опоры все элементы, которые меньше, а справа - которые больше.
  * Т.о. получится частично отсортированный массив: опора гарантированно занимает правильное место, а слева и справа от нее - неотсортированные части.
  * Алгоритм запускается рекурсивно для левой и правой части.
  * Т.о. постепенно массив сортируется.
* Движение по массиву реализуется через два указателя.
  * Левый - это начало массива.
  * Правый - конец массива.
  * Указатели двигаются к опоре.
    * Как только на пути левого указателя попадается элемент, который больше опоры, т.е. должен находиться справа, указатель останавливается.
    * Начинает двигаться правый указатель до тех пор, пока не встретится элемент, который меньше опоры.
  * Т.о. мы находим два элемента, которые надо поменять местами.
  * Меняем их.
  * Продолжаем движение указателей до тех пор, пока указатели не пересекутся. Это означает, что опора на своем месте и можно начинать сортировать боковые части.

## Реализация

```javascript
const short7 = [3, 7, 10, 5, 12, 0, 19];
const long10 = [2, 8, 15, 4, 11, 6, 17, 1, 9, 20];

function quick(arr, left = 0, right = arr.length - 1) {
  if (left >= right) return;

  const pivot = arr[Math.floor((left + right) / 2)];
  let L = left;
  let R = right;

  while (L <= R) {
    while (arr[L] < pivot) L++;
    while (arr[R] > pivot) R--;
    if (L <= R) {
      [arr[R], arr[L]] = [arr[L], arr[R]];
      L++;
      R--;
    }
  }
  quick(arr, left, R);
  quick(arr, L, right);
}

console.log(short7);
quick(short7);
console.log(short7);

console.log(long10);
quick(long10);
console.log(long10);
```



