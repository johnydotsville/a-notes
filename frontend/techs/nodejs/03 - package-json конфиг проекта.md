# package.json

TODO: насколько я понял, package.json может быть не единственным на проект. Похоже, если например попробовать с помощью команды `node` выполнить какой-то js-файл, то нод будет искать ближайший к этому файлу package.json, чтобы понять настройки. Ближайший означает, что сначала поищется в той же директории, что и выполняемый файл. Если тут нет, тогда в директории повыше и т.д.

Вообще настройки, похоже, пересекаются с дополнительными инструментами, вроде вебпака и могут быть особенно важны именно когда используются эти инструменты. Но здесь я, для начала, буду такие настройки просто упоминать вкратце, а детали их использования в контексте конкретного инструмента буду писать в конспектах по этим инструментам.

# Опции

## type

```yaml
{
  "main": "index.js",
  # Прочие опции
  "type": "module"  # <-- Опция type определяет, как node трактует загружаемый файл.
}
```

Возможные значения:

* `module`
* `commonjs`

Каждый файл с исходным кодом нод воспринимает как модуль. Если опция `type` установлена в значение `module`, тогда исходный файл трактуется как ES2015 модуль, а если в значение `commonjs`, тогда как CommonJS модуль. Соответственно мы должны выставлять эту настройку в зависимости от того, какой синтаксис модульности используем в исходных файлах.

Чтобы понять тип модульности файла, нод будет искать ближайший к этому файлу конфиг package.json и брать настройку type из него. Если она не указана, нод будет рассматривать файл как CommonJS-модуль.