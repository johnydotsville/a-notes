# Ассеты

| Тип ассета  | Документация                                                 |
| ----------- | ------------------------------------------------------------ |
| Изображения | [Документация](https://webpack.js.org/guides/asset-management/#loading-images) |
|             |                                                              |

Для использования ассетов нужны соответствующие лоадеры. 

# Картинки

## png, jpg и остальные

Конфиг вебпака TODO прочитать про rules, что это вообще за раздел:

```typescript
{
  // Остальные опции конфига
  module: {
    rules: [
      {
        test: /\.(png|jpg|jpeg|gif)$/i,
        type: 'asset/resource',
      },
      // Остальные
    ]
  }
}
```

TODO: Мб стоит потом пройтись по каждому пункту и сделать его отдельно, без декомпозиции конфига, чтобы было нагляднее, и вставить в эти конспекты. А потом уже декомпозировать.

В `global.d.ts` (конспект про изоляцию стилей) добавляем это:

```typescript
declare module "*.png";
declare module "*.jpg";
declare module "*.jpeg";
```

Теперь в компонентах можно использовать картинку:

```react
import checklistPng from "@/assets/checklist.png";

export const App = () => {
  return (
    <div>
      <img src={checklistPng} alt="" />
    </div>
  )
}
```

## svg

С svg отдельная история, потому что с ними можно работать не просто как с картинками, а как с react-компонентами и передавать им пропсы.

Для этого нужен лоадер svgr [Документация1](https://react-svgr.com/docs/webpack/) [Документация2](https://www.npmjs.com/package/@svgr/webpack) [Документация3](https://github.com/gregberge/svgr/issues/546)

Он умеет преобразовывать svg в компонент.

```
npm i @svgr/webpack
```

Конфиг вебпака:

```typescript
{
  // Остальные опции конфига
  module: {
    rules: [
      {
        test: /\.svg$/i,
        issuer: /\.[jt]sx?$/,
        use: [
          { 
            loader: '@svgr/webpack',
            options: { 
              icon: true,
              svgoConfig: {
                plugins: [
                  {
                    name: "convertColors",
                    params: {
                      currentColor: true
                      }
                    }
                ]
              }
            }
          }
        ],
      }
      // Остальные
    ]
  }
}
```

global.d.ts:

```typescript
declare module "*.svg" {
  import React from "react";
  const SVG: React.VFC<React.SVGProps<SVGSVGElement>>;
  export default SVG;
}
```

Используем:

```react
import Api from "@/assets/api.svg";

export const App = () => {
  return (
    <div>
      <Api style={{color: "green"}} width={150} height={150} />
    </div>
  )
}
```

Ширину и высоту передали через пропс.

Дополнительные пропсы для цвета: `fill` и `stroke`.