# Жизненный цикл компонента

У каждого компонента свой жизненный цикл. Он состоит из трех этапов:

* Монтирование (mount) - компонент создается и монтируется в DOM-дерево. Этот этап интересен нам, если мы хотим выполнить какие-то предварительные действия, например, выбрать данные с сервера и отдать их компоненту, повесить слушатели событий и т.д.
* Обновление (update) - когда изменяется состояние компонента, он перерисовывается.
* Размонтирование (umount) - например, скрытие компонента или переход на другую страницу.

TODO: откуда импортировать этот хук?

# Хук useEffect

## Монтирование

Чтобы хук сработал на этапе монтирования, мы передаем в него колбэк и *пустой* массив зависимостей:

```react
useEffect(
  () => doSome(),
  []
);
```

В этом случае колбэк выполнится только один раз, на этапе монтирования.

P.S. Не факт. Возможно, массив не обязательно дб пустым.

## Обновление

Если передать зависимости, то хук будет работать при обновлении:

```react
useEffect(
  () => doSome(),
  [dep1, dep2]
);
```

## Размонтирование

Если колбэк возвращает функцию, то она вызовется при размонтировании компонента:

```react
useEffect(
  () => {
    doSome(),
    return () => {  // <-- Эта функция вызовется при размонтировании
      cleaning();
    }
  },
  [dep1, dep2]
);
```

