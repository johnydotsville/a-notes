# Компоненты

Компонент приложения:

```react
function App() {
  const [posts, setPosts] = useState([
    {id: 1, title: 'Javascript', body: 'Javascript - это язык программирования.'},
    {id: 2, title: 'Java', body: 'Java - это язык программирования, в основном используется на бэкэнде.'},
    {id: 3, title: 'C#', body: 'C# - это как Java, только лучше.'}
  ]);

  const [selectedSort, setSelectedSort] = useState("");  // <-- Состояние для выбранного стиля сортировка

  const createPost = (post) => { 
    setPosts([...posts, post]);
  };

  const removePost = (post) => {
    setPosts(posts.filter(p => p.id !== post.id));
  };

  const sortPosts = (sortBy) => {  // <-- Функция сортировки постов
    setSelectedSort(sortBy);
    setPosts([...posts].sort(
      (a, b) => a[sortBy].localeCompare(b[sortBy])
    ));
  };

  return (
    <div className="App">
      <PostForm createNewPost={createPost} />
      <hr style={{ margin: '15px 0' }} />
      <MySelect  <!-- Использование компонента списка -->
        defaultValue="Сортировка по" 
        options={[
          { value: "title", name: "По названию" },
          { value: "body", name: "По содержимому"}
        ]}
        value={selectedSort}
        onSelect={sel => sortPosts(sel)} />
      {
        posts.length != 0
          ? <PostList title={"Посты"} posts={posts} remove={removePost} />
          : <div>Пока нет ни одного поста.</div>
      }
      
    </div>
  );
}

export default App;
```

Компонент списка:

```react
const MySelect = ({options, defaultValue, value, onSelect}) => {
  return (
    <select
      value={value}
      onChange={event => onSelect(event.target.value)}
    >
      <option disabled value="">{defaultValue}</option>
      {options.map(o => 
        <option key={o.value} value={o.value}>
          {o.name}
        </option>
      )}
    </select>
  );
};

export default MySelect;
```

# Комментарии

## Сортировка

```javascript
const sortPosts = (sortBy) => {  // <-- Функция сортировки постов
    setSelectedSort(sortBy);
    setPosts([...posts].sort(
      (a, b) => a[sortBy].localeCompare(b[sortBy])
    ));
  };
```

Поскольку нельзя изменять состояние, то сначала мы с помощью конструкции `[...posts]` формируем новый массив и его уже сортируем. Метод сортировки принимает функцию сортировки. Конструкция a[sortBy] по сути равнозначна a.title и a.body, поскольку в sortBy у нас будет лежать именно слова title или body.