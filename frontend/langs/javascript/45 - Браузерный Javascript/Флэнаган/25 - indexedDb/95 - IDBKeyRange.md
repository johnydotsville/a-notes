# IDBKeyRange

| Интерфейс     | Документация                                                 |
| ------------- | ------------------------------------------------------------ |
| `IDBKeyRange` | [MDN](https://developer.mozilla.org/en-US/docs/Web/API/IDBKeyRange) |

`IDBKeyRange` - это интерфейс для создания непрерывных диапазонов значений. Полезен для методов извлечения множества записей из БД, таких как getAll, потому что позволяет задать список ключей. *Непрерывных* означает, что мы можем задать ключи `5-10`, но не `5, 7, 10`.

# Создание диапазона

Для создания диапазона есть статические методы IDBKeyRange:

## upperBound, lowerBound

upperBound предполагает, что мы указываем "Верхнюю границу" диапазона. Т.е. нужные нам ключи находятся ниже указанного значения.

lowerBound предполагает, что мы указыаем "Нижнюю границу" диапазона. Т.е. нужные нам ключи находятся ниже указанного значения.

Параметры:

* Значение
* `true | false*` - false означает, что число входит в диапазон (дефолт), а true - что не входит.

```javascript
const range1 = IDBKeyRange.lowerBound(5);  // 5, 6, 7, 8 ...
const range1 = IDBKeyRange.lowerBound(5, true);  // 6, 7, 8 ...
```

```javascript
const range1 = IDBKeyRange.upperBound(5);  // ... 2, 3, 4, 5
const range1 = IDBKeyRange.upperBound(5, true);  // ... 2, 3, 4
```

## bound

Позволяет указать диапазон "от" и "до".

Параметры:

* Нижняя граница
* Верхняя граница
* `true | false*` - исключить \ включить нижнюю границу.
* `true | false*` - исключить \ включить верхнюю границу.

```javascript
const range = IDBKeyRange.bound(3, 6);  // 3, 4, 5, 6
const range = IDBKeyRange.bound(3, 6, true, true);  // 4, 5
```

## only

Позволяет указать диапазон из единственного значения.

```javascript
const range = IDBKeyRange.only(3);  // 3
```

# Значения и их типы

Значениями для диапазона могут быть не только цифры, но и строки, даты и даже массивы.

# Информация о диапазоне

У экземпляра диапазона есть несколько методов, позволяющих получить информацию о нем:

```javascript
const range = IDBKeyRange.lowerBound("Novel");
console.log(range.lower);  // Novel
console.log(range.upper);  // undefined
console.log(range.lowerOpen);  // false
console.log(range.upperOpen);  // true
```

Терминология:

* Открытый (open) - значение исключено из диапазона, true.
* Закрытый (close) - значение включено в диапазон, false.

Методы довольно самоочевидные. Для диапазона, у которого задана только нижняя граница, lower показывает эту границу, а upper будет undefined. И наоборот, для диапазона, у которого задана только верхняя граница, upper будет заполнен, а lower будет undefined. Ну а свойства lowerOpen и upperOpen показывают, исключено или включено граничное значение в диапазон.