# Экспорт и импорт в Node

> У меня не получилось удачно разделить разделы про экспорт и импорт. По ощущениям, в случае с Node-модулями гораздо нагляднее выходило разместить синтаксис импорта сразу же после синтаксиса экспорта. Поэтому я так и сделал. Однако общую карту как будто все-таки надо было как-то оформить.

Для экспорта существует два варианта:

* Глобальный объект exports.
* module.exports

Для импорта:

* Оператор `require`. Через него обращаемся к файлу, который содержит нужные нам экспорты.
  * Расширение можно не указывать, но обычно указывают.
  * Путь пишется относительный (относительно файла, в котором использован require).
  * require возвращает нам объект, в полях которого лежат экспортированные вещи. Можно с помощью деструктурирующего присваивания разбить этот объект на отдельные вещи.
    * Либо, если экспортирована единственная вещь, то возвращает эту самую вещь.

# Глобальный объект exports

В Node есть глобальный объект `exports`. Чтобы что-то экспортировать, достаточно создать в этом объекте поле с желаемым именем, и положить в него экспортируемую вещь.

## Экспорт

Кладем экспортируемые вещи в поля глобального объекта `exports`:

```javascript
// Файл message.js, с экспортами
const hello = () => console.log("Hello!");  // <-- Есть две функции,
const goodbye = () => console.log("Goodbye!");  // <-- которые мы хотим экспортировать.

exports.hello = hello;  // <-- Для этого просто кладем их в поля глобального объекта exports
exports.goodbye = goodbye;
```

## Импорт

```javascript
const mes = require("./message.js");  // <-- Получаем целиком объект с экспортированными вещами

mes.hello();
mes.goodbye();
```

Можно использовать деструктурирующее присваивание, чтобы разбить этот объект на отдельные переменные:

```javascript
const { hello, goodbye } = require("./message.js");  // <-- Деструктурируем объект и получаем отдельные ф-ции.

hello();
goodbye();
```

```javascript
// <-- Напоминание, как можно при извлечении явно указать переменные, в которые надо извлечь свойства.
// <-- Св-во hello положить в переменную hi, а св-во goodbye - в переменную bye.
const { hello: hi, goodbye: bye } = require("./message.js");

hi();
bye();
```

# module.exports

Второй способ экспорта - это `module.exports`:

* Можно положить в него объект, поля которого - экспортируемые вещи:

```javascript
// Файл message.js, с экспортами
const hello = () => console.log("Hello!");
const goodbye = () => console.log("Goodbye!");

module.exports = {
  hello,  // <-- Или hi: hello, если хочется изменить имя
  goodbye  // <-- bye: goodbye
};
```

```javascript
// Клиентский файл, с импортами
const { hello, goodbye } = require("./message.js");

hello();
goodbye();
```

* Можно положить в него непосредственно единственную экспортируемую вещь. Получится аналог дефолтного экспорта:


```javascript
// Файл message.js
const hello = () => console.log("Hello!");
const goodbye = () => console.log("Goodbye!");

module.exports = hello;
```

```javascript
const hello = require("./message.js");
hello();
```


