# Что такое псевдомассивы

Псевдомассивы - это объекты, у которых все свойства являются целыми положительными числами и есть свойство length.

Например:

```javascript
const pseudoArr = {  // <-- Самодельный псевдомассив
  "0": "Tom",
  "1": "Huck",
  "2": "Mary",
  "3": "Sid",
  length: 4
};
```

Обычно псевдомассивы мы не создаем сами, т.к. в этом практически нет смысла. С псевдомассивами мы обычно можем столкнуться, если работаем с arguments, с DOM-коллекциями или еще в каких-то случаях, когда нам возвращают псевдомассив.

# Методы массивов и ПМ

На псевдомассиве невозможно вызвать метод массива, потому что у псевдомассива прототипом является обычный объект, а не массив.

У нас есть два пути:

* Обратиться к методу массива через прототип и передать ему псевдомассив:

  ```javascript
  const pseudoArr = {
    "0": "Tom",
    "1": "Huck",
    "2": "Mary",
    "3": "Sid",
    length: 4
  };
  
  const longNames = Array.prototype.filter.call(pseudoArr, i => i.length > 3);  // <-- Через call
  
  longNames.forEach(i => console.log(i));  // Huck, Mary
  ```

* Создать настоящий массив на основе псевдомассива:

  ```javascript
  const pseudoArr = {
    "0": "Tom",
    "1": "Huck",
    "2": "Mary",
    "3": "Sid",
    length: 4
  };
  
  const trueArr = Array.from(pseudoArr);  // <-- Создаем настоящий массив на основе ПМ
  
  const shortNames = trueArr.filter(i => i.length == 3);
  shortNames.forEach(i => console.log(i));  // Tom, Sid
  ```

# Создание массива из ПМ

Есть два способа создать настоящий массив из псевдомассива:

* С помощью `Array.from()`

  ```javascript
  const trueArr = Array.from(pseudoArr);
  ```

* С помощью spread-оператора:

  ```javascript
  const trueArr = [...pseudoArr];
  ```

Достоинство первого способа - универсальность. Он работает всегда, в то время как второй способ работает только для ПМ, у которых есть итератор. Впрочем, у большинства ПМ итератор есть (arguments, DOM-коллекции).

# Обход псевдомассива

Поскольку у большинства псевдомассивов, с которыми приходится иметь дело, есть итератор, то это значит, что мы можем использовать цикл `for of` для обхода.

Если же ПМ самодельный или по каким-то причинам у него нет итератора, то можно перегнать ПМ в обычный массив и тогда обходить как обычно.