# Перебор элементов

## for ... of

Цикл `for ... of` позволяет нам перебрать только числовые свойства массива, т.е. по сути только сами элементы:

```javascript
let arr = ["Яблоко", "Апельсин", "Груша"];

for (let item of arr) {
  console.log(item);  // "Яблоко", "Апельсин", "Груша"
}
```

Нам доступен только сам элемент, без индекса. Особенности:

* Если в процессе итерации массив изменится, то эти изменения повлияют на итерацию. Например, если внутри цикла обхода добавить элемент в массив, получим бесконечный цикл.

## for

Обычный `for` может пригодиться, если нужны какие-нибудь проверки непосредственно индекса. Например, вывести только элементы на четных позициях:

```javascript
//             0          1         2
let arr = ["Яблоко", "Апельсин", "Груша"];

for (let i = 0; i < arr.length; i++) {
  if (i%2 == 0) console.log(arr[i]);  // Яблоко, Груша
}
```

На самом деле можно получить индекс и через for of, если знать про метод `entries()` и деструктурирующее присваивание:

```javascript
const arr = ["Tom", "Huck", "Mary", "Sid"];

for (const [ind, item] of arr.entries()) {
  console.log(`${ind}: ${item}`);
} 
/*
  0: Tom
  1: Huck
  2: Mary
  3: Sid
*/
```

## for ... in

Этот цикл не рекомендуется использовать для перебора массивов, потому что:

* Он оптимизирован для работы с произвольными объектами, но не массивами.
* Он перебирает все свойства объекта, а в случае массива нас интересуют только числовые. В случае т.н. "псевдомассивов" можем получить лишнее.

```javascript
let arr = ["Яблоко", "Апельсин", "Груша"];

for (let item in arr) {
  console.log(arr[item]);  // С виду все нормально, но есть нюанс.
}
```

## .forEach()

`.forEach()` это метод массива. Принимает лямбду с тремя параметрами `(текущий элемент, индекс, ссылка на массив)`, из которых только первый обязательный. Ничего не возвращает. Более подробно рассмотрен в конспекте про стандартные методы массивов:

```javascript
const arr = ["Tom", "Huck", "Mary", "Sid"];

arr.forEach((item, ind, farr) => {
  console.log(`${ind}: ${item}`);
});
```

