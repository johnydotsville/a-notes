# Движок оптимизирует массивы

Движок js проводит оптимизации, за счет которых массивы работают быстро. Если мы начинаем работать с массивом как с обычным объектом, то движок начинает рассматривать его как обычный объект и соответственно отключает все оптимизации.

Триггером для отключения оптимизаций служат:

* Добавление массиву произвольных свойств.

  ```javascript
  let arr = ["Яблоко", "Апельсин", "Груша"];
  arr.comment = "Массив с фруктами";
  ```

* Создание "дыр" между элементами.

  ```javascript
  let arr = ["Яблоко", "Апельсин", "Груша"];
  arr[100] = "Ананас";
  ```

* Заполнение массива в обратном порядке.

  ```javascript
  let arr = [];
  arr[1] = "Апельсин";
  arr[0] = "Яблоко";
  ```

* Хранение в массиве разнородных данных:

  ```javascript
  let arr = [
    "Яблоко", 
    { name: "Tom" }, 
    function() { console.log("Функция хранится в массиве.") },
    true
  ];
  
  
  console.log(arr[0]);  // Яблоко
  console.log(arr[1].name);  // Tom
  arr[2]();  // Функция хранится в массиве.
  ```

