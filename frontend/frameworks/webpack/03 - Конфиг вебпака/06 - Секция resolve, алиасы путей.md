| Документация                                       |
| -------------------------------------------------- |
| https://webpack.js.org/configuration/resolve/      |
| https://webpack.js.org/concepts/module-resolution/ |

# Секция resolve

Секция `resolve` конфига вебпака предназначения для настройки *резолвера*.

```javascript
module.exports = {
  // Остальная часть вебпак-конфига
  resolve: {
    // <-- Настройки резолвера
  }
};
```

Резолвера занимается резолвингом - это процесс обнаружения модуля (файла). Т.е. когда мы импортируем какой-то модуль, очевидно что нужно найти где он лежит. Поиск ведется по указанному пути (*path*). Например, в конструкции `import hello from "/src/utils.js";`, путь это `/src/utils.js` .

Путь бывает трех видов:

* Абсолютный:

  ```javascript
  import hello from "/src/utils.js";
  ```

* Относительный:

  ```javascript
  import hello from "./utils.js";
  ```

* "Модульный":

  ```javascript
  // TODO
  ```

  TODO: https://webpack.js.org/concepts/module-resolution/#module-paths не понятно вообще, что имеется ввиду, что за модульный путь? Такое чувство, будто бы это что-то вроде поиска какого-то файла внутри папки конкректного модуля. Грубо говоря, есть условный реакт и модульный путь это что-то вроде import ololo from "@react/tralala". Только вот найти вменяемый пример пока что не получилось. Например, как вебпак поймет, что это модульный путь? На сайте пример import 'module/lib/file'; а как он поймет, что module - это модуль а не тупо папка?

asdf

# Настройки резолвера

## extensions

```javascript
module.exports = {
  resolve: {
    extensions: ['.tsx', '.ts', '.js']  // <-- Настраиваем очередность проверки расширений.
  }
};
```

При импорте мы указываем т.н. "path",  Если пат указывает на файл и при этом с расширением, тогда никаких дополнительных действий от резолвера не требуется. Если расширения нет, то резолвер берет расширения из массива `extensions` и по очереди примеряет их к пату. Как только обнаруживается файл, он сразу и выбирается.

# Алиасы

Алиасы - это псевдонимы путей. Длинному пути можно задать короткий алиас, чтобы проще ссылаться на модули из этой директории. Алиасы реализуются вебпаком, через настройки резолвера.

## webpack.config.js

Добавляем в конфиг вебпака в секцию резолвера секцию `alias`:

```javascript
const path = require('path');

module.exports = (settings, argv) => {
  return {
    // Остальная часть конфига
    resolve: {
      // Остальные настройки резолвера
      alias: {
        "@components": path.resolve(__dirname, "src/foo/bar/components")
      }
    }
  }
};
```

* `@components` - алиас, может быть любым. Использовать `@` в имени не обязательно, но так принято для наглядности.
* Путь до директории, на которую указывает алиас.

## Использование алиаса

После настройки алиаса можно использовать его в импортах:

```react
import ReactDOM from 'react-dom/client';
// import { App } from "./foo/bar/components/App";  // <-- Было без алиаса
import { App } from "@components/App";  // <-- Используем алиас

const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(
  <App />
);
```

## tsconfig.json

Если в проекте используется typescript, нужно добавить несколько опций в его конфиг:

```yaml
{
  "compilerOptions": {
    # Остальные опции компиляции
    "baseUrl": "./",
    "paths": {
      "@components/*": ["src/foo/bar/components/*"]
    }
  }
}
```

