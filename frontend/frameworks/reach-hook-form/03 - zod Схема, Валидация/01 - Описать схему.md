# Схема

## Как описывается схема

В схеме:

* Описываем данные, которые будут использоваться в форме.
* Задаем правила валидации. Можно задать как для отдельных полей, так и для формы в целом.

Пример схемы:

```typescript
import { z } from "zod"

const schema = z.object({  // <-- Корневая схема. Целая форма.
  fromAccountId: z.string(),  // <-- Простая схема. Отдельное простое поле формы.
  toAccountId: z.string(),
  amount: z.number(),
  address: z.object({  // <-- Вложенная схема. Составное поле формы.
    city: z.string(),
    street: z.string(),
  }),
})
```

Здесь схема представлена корневым объектом, поля которого тоже являются схемами. Три поля - простые схемы, а поле address представлено вложенным объектом. Вложенность можно делать такую, какая требуется, ограничений нет.

`z` - это главный объект библиотеки zod. Он содержит все методы, с помощью которых мы можем описать схему.

## Варианты схем

Базированные схемы - это:

* `string()`
* `number()`
* `boolean()`
* `object()`

А вообще их гораздо больше, очень много. Про них нужно сделать отдельный раздел или конспект, а здесь перечислены только несколько простых, для наглядности.

# Связать схему с useForm

```typescript
import { z } from "zod"

const schema = z.object({
  // <-- Описываем схему формы.
})

type FormData = z.infer<typeof schema>  // <-- Генерируем тип формы по схеме.
```

```typescript
import { zodResolver } from "@hookform/resolvers/zod"
import { useForm } from "react-hook-form"

const {
  register,
	// Остальные вещи из хука для управления формой.
} = useForm<FormData>({  // <-- Типизируем хук.
  resolver: zodResolver(schema)  // <-- С помощью резолвера передаем схему в хук.
})
```

