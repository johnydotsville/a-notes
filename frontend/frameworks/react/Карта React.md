# Компоненты

## Компоненты и данные

### Хранение данных компонента

- [ ] Состояние
  - [ ] Это данные, изменение которых приводит к ре-рендеру компонента.
    - [ ] useState
    - [ ] useReducer
  - [ ] Принципы хранения состояния
    - [ ] Иммутабельность - заменяй, а не изменяй.
      - [ ] Библиотека Immer.
  - [ ] Механика изменения состояния
    - [ ] Изменение через хук > Запрос на фактическое изменение > Фактическое изменение > Ре-рендеринг
  - [ ] Место хранения состояния
    - [ ] В одном компоненте может быть много состояний.
    - [ ] Эти состояния хранится как список в fiber-узле.
- [ ] Данные, изменение которых не приводит к ре-рендеру компонента.
  - [ ] useRef
  - [ ] Можем мутировать эти данные.

### Передача данных в компоненты

- [ ] Направление передачи данных
  - [ ] "Сверху вниз" - из родителя в дочерний компонент
    - [ ] Пропсы
      - [ ] Стандартные пропсы (children)
      - [ ] Наши произвольные пропсы
  - [ ] "Снизу вверх" - из дочернего компонента в родительский
    - [ ] Через колбэк
- [ ] Передача данных в глубоко вложенные дочерние компоненты (useContext)
  - [ ] Контекст, провайдер контекста
  - [ ] Использование нескольких контекстов (вложение контекстов друг в друга)
  - [ ] Обновление значения в контексте

## Вид компонента

- [ ] По синтаксису создания
  - [ ] Функциональный компонент (современно, с хуками)
  - [ ] Классовый компонент (легаси)
- [ ] По управлению данными компонента
  - [ ] Управляемый компонент (полная синхронизация данных из элементов с состоянием компонента)
  - [ ] Неуправляемый компонент (нет синхронизации, ручное получение значений когда надо через ссылки на элементы)
    - [ ] Атрибут ref у компонента
    - [ ] Сохранение ссылки на реальный DOM-элемент (ref + useRef)
    - [ ] Проброс ref в компонент с помощью функции React.forwardRef

## Жизненный цикл компонента

- [ ] Этапы жизненного цикла компонента
  - [ ] Монтирование
  - [ ] Рендеринг (первичный и ре-рендеринг)
  - [ ] Размонтирование
- [ ] Внедрение в жизненный цикл компонента функций (useEffect)
  - [ ] Для разных целей, например
    - [ ] Предварительная загрузка данных для отображения.
    - [ ] Различные действия по очистке.
    - [ ] И т.д.

## Уникальность компонента

- [ ] Зачем реакту различать компоненты
- [ ] Уникальность однотипных компонентов в списках, свойство key
- [ ] Уникальность по позиции в fiber-дереве и по типу компонента

## Оформление компонента

- [ ] Правила именования компонентов.
- [ ] Использование css-стилей в компоненте.



# Кэширование (мемоизация)

- [ ] Кэширование функции (useCallback)
- [ ] Кэширование результата выполнения функции (useMemo)



# Типичные трюки \ паттерны

- [ ] Условный рендеринг
  - [ ] Показать \ не показать компонент в зависимости от условия.
  - [ ] Показать разные компоненты в зависимости от условия.



# Хуки

- [ ] Правила использования хуков
  - [ ] Используются только на верхнем уровне компонента (т.е. не в циклах, не в условиях, не внутри других хуков, а только непосредственно в теле компонента)
- [ ] Кастомные хуки
  - [ ] Нужны чтобы инкапсулировать логику, в которой используются стандартные хуки
  - [ ] Правило именования кастомных хуков (префикс use)



# Архитектура React

- [ ] Fiber-дерево, fiber-узлы
- [ ] Цикл обновления компонента "Рендеринг > Реконсиляция > Коммит"



# События и их обработчики

- [ ] Навешивание обработчика на событие компонента
- [ ] Объект события
  - [ ] Всплытие события (event propagation)
  - [ ] Дефолтное поведение, предотвращение дефолтного поведения.







# TODO

React.memo, useTransition, useDeferredValue

Error Boundaries