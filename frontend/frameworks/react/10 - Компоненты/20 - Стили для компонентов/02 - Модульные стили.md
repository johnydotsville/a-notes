# Модульные стили

Когда мы задаем название класса для элемента вручную, то оно остается именно такое, какое мы задали. Поэтому теоретически могут быть конфликты, когда стилей много и они имеют какие-то типичные названия вроде active.

На этот случай существует механизм модульных стилей, который позволяет формировать уникальное имя класса. Как его использовать (на примере кастомной кнопки):

* Создаем под кнопку отдельную папку.

  * Папка нужна исключительно для удобства и наглядности. Можно ее не создавать.

* Создаем в этой папке компонент кнопки, например `MyButton.jsx | tsx`.

* Создаем в этой же папке файл стилей для кнопки и называем его `MyButton.module.css`.

  Важно назвать именно с суффиксом `.module`, поскольку тут используется конвенциональная система и иначе не заработает. Префикс `MyButton` произвольный, т.е. называть не обязательно так же как и компонент, но так будет нагляднее, потому что этот префикс будет использован при генерации имени класса. Пишем в этом файле стили как обычно:

  ```css
  .myBtn {  /* <-- myBtn будет использовано при генерации имени класса */
    padding: 5px 15px;
    color: teal;
    border: 1px solid teal;
  }
  ```

* Импортируем файл стилей в компонент под каким-нибудь идентификатором, например `classes` или `styles`:

  ```react
  import * as styles from './MyButton.module.css';
  ```

* Указываем классы для элементов компонента через этот идентификатор:

  ```react
  <button className={styles.myBtn}>asd</button> 
  ```

* В результате у элемента класс приобретает примерно такой вид: `class="MyButton_myBtn__9qVHc"`. Сначала идет имя файла стилей, потом имя селектора из файла стилей, потом фрагмент хэша файла. В итоге имя класса гарантированно уникальное.

Полный пример:

Файл стилей `MyButton.module.css`:

```css
.myBtn {  /* <-- Имя селектора будет использовано при создании имени класса */
  padding: 5px 15px;
  color: teal;
  font-size: 14px;
  background: transparent;
  border: 1px solid teal;
  cursor: pointer;
}
```

Файл компонента `MyButton.jsx`:

```react
import * as classes from './MyButton.module.css';  // <-- Импортируем стили под идентификатором

const MyButton = ({children, ...rest}) => {
  return (
    <button {...rest} className={classes.myBtn}>{children}</button>  /* <-- Автогенерация имени класса */
  );
};

export default MyButton;
```

Файл, где используется компонент (не важно, где именно, важно просто как):

```react
<MyButton>Создать</MyButton>
```

`children` - это стандартный пропс, который содержит в себе контент компонента, т.е. то, что вложено в "тег" MyButton. В данном примере в компонент MyButton вложен текст "Создать", поэтому с помощью children мы этот текст получаем и размещаем внутри обычной кнопки.

> Комментарий насчет синтаксиса. Изначально props содержит children, плюс все "атрибуты", установленные компоненту. Например, если написать `<MyButton disabled>Создать</MyButton>`, то объект props переданный компоненту, будет содержать два свойства - children и disabled. Конструкцией `{children, ...rest}` мы выдергиваем свойство children в одноименную переменную, а все оставшиеся свойства обратно собираем в объект rest. В данном случае там окажется одно свойство - disabled. Далее через`<button {...rest}` мы обратно разбиваем объект rest на свойства и у кнопки оказывается свойство disabled. Таким образом можно задать компоненту разные атрибуты, актуальные для кнопки, и все они окажутся внутри подлежащей кнопки.