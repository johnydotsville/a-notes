# Направление передачи данных

> В этой демке используется управляемый компонент - в Capture обработчиком изменения input'а является функция установки состояния. Про управляемые компоненты есть отдельный конспект.

Нет никаких проблем в том, чтобы передать данные из родительского компонента в дочерний. Т.к. родительский компонент вызывает дочерний, то может при этом передать ему данные через пропсы.

Чтобы передать данные в обратном направлении, т.е. из дочернего компонента в родительский, родитель должен передать потомку колбэк, например, функцию изменения своего (родительского) состояния. Тогда потомок сможет ее вызвать с данными, которые нужно передать, и они попадут родителю.

Например:

```react
import {useState} from 'react';

export default function Display() {  // <-- Родительский компонент
  const [message, setMessage] = useState('Демо передачи данных из ребенка в родителя.');

  return(
    <>
      <div>{message}</div>
      <Capture sendText={setMessage} />  {/* <-- Передаем ребенку колбэк */}
    </>
  )
}

function Capture({sendText}) {  // <-- Дочерний компонент
  const [phrase, setPhrase] = useState('Привет, мир!');  // <-- Собственное состояние ребенка
  return (
    <>
      <input type="text" value={phrase} onChange={event => setPhrase(event.target.value)} />
      {/* Вызываем полученный от родителя колбэк, передавая в него нужные данные: */}
      <button onClick={event => sendText(phrase)}>Послать текст в родитель</button>
    </>
  );
}
```

Здесь у нас родительский компонент Display и в нем состояние в виде message, которое мы хотим изменить из дочернего компонента Capture. Для этого мы передаем в Capture через пропсы функцию изменения состояния (setMessage), а он вызывает ее при щелчке на кнопку, передавая ей значение из своего поля. Таким образом данные из Capture попадают в Display и там отображаются.

