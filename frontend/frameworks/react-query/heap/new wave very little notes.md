

# Обзор

## useQuery

* Нужен как основной способ загрузки данных.
  * Загруженные данные попадают в кэш.
* Принимает:
  * Функцию загрузки.
  * Ключ запроса.
    * Ключ служит идентификатором для полученных данных. Если кто-то сделает запрос с таким же ключом, тогда данные берутся из кэша.
  * Настройки кэша.
    * Вроде времени хранения, времени устаревания данных и т.д.
* Возвращает:
  * Разные артефакты, вроде самих загруженных данных и разные статусы, вроде "загружается", "успех", "ошибка" и т.д. Список см в документации либы.



## useMutation

* Нужен для оформления операций, изменяющих кэш.
  * Добавление \ удаление \ обновление.
* 



## QueryClient

Умеет:

* Отменять запросы, `client.cancelQueries()`
* Работать с данными в кэше напрямую:
  * Класть данные в кэш `client.setQueryData()`
  * Извлекать данные из кэша `client.getQueryData()`





# Примеры использования







# Механики







# Разбор







# Черновик

## Флаги из useQuery

```
status
fetchStatus,
isError,
isFetched,
isFetchedAfterMount,
isFetching,
isInitialLoading,
isLoading,
isLoadingError,
isPaused,
isPending,
isPlaceholderData,
isRefetchError,
isRefetching,
isStale,
isSuccess
```

isFetching

isLoading

* `isPending` 
  * Данных нет в кэше, и на запрос выборки данных еще не пришел ответ.
  * То же самое что `status === 'pending'`