# Зачем нужен кэш

Кэширование с помощью React Query нужно для того, чтобы:

* Когда люди ходят по одним и тем же страницам приложения, данные не тянулись каждый раз с сервера, а брались по возможности из кэша. Допустим, человек открыл страницу описания фильма. При этом с сервера загрузилась информация о фильме, список актеров и т.д. Потом человек перешел на страницу другого фильма и загрузилась информация о другом фильме. Потом он снова вернулся на страницу первого фильма. Если бы не react query, нам бы пришлось снова грузить информацию с сервера. Но поскольку у нас react query, то информация берется из его кэша. Т.о. и нагрузка на сервер снижается, и приложение работает быстрее, потому что из кэша данные берутся мгновенно.
* Если разные компоненты пользуются одними и теми же данными, то их можно просто взять из кэша. Допустим, на главной странице банка есть компонент с курсом валют. И в компоненте перевода денег с одного счета на другой тоже может понадобиться информация о курсе. Например, если человек переводит с рублевого счета на долларовый, то необходимо вывести предупреждение "Внимание! Пересчет будет произведен по такому-то курсу". Получается, для этого компонента и компонента с главного экрана нужны одинаковые данные. Поэтому не обязательно снова делать запрос на сервере, можно взять курс просто из кэша. Особенно если политика банка такова, что курс фиксируется на сутки и не меняется в этот промежуток.

# Где хранится кэш

React Query хранит кэш в оперативке. Соответственно, кэш уничтожается при обновлении страницы или закрытии вкладки.

# Кэш не привязан к компонентам

Кэш не привязан к компонентам. Т.е. тот факт, что мы использует хук useQuery в компоненте никак не привязывает полученные данные к этому компоненту. Данные хранятся в кэше, а компонент просто *подписан* на эти данные. Соответственно, если данные обновляются, то RQ сообщает об этом компоненту и тот может обновиться, чтобы отобразить актуальные данные.



