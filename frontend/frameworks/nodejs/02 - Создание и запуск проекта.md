# Создание проекта node js

## npm init

* Создаем папку под будущий проект.

* Переходим в нее из консоли.

* Выполняем команду:

  ```
  npm init -y
  ```

* Готово! В папке появляется файл конфига нашего Node-проекта, `package.json` примерно такого содержания:

  ```json
  {
    "name": "2",
    "version": "1.0.0",
    "description": "",
    "main": "index.js",
    "scripts": {
      "test": "echo \"Error: no test specified\" && exit 1"
    },
    "keywords": [],
    "author": "",
    "license": "ISC"
  }
  ```

* Остальные шаги зависят от типа программы. Обычно дальнейшая работа предполагает такие вещи:

  * Установить нужные пакеты. Например, если это typescript проект, то поставить пакет `typescript`. Если используется вебпак, то поставить пакет `webpack` и какие-нибудь полезные плагины для него, например, пакет `html-webpack-plugin` и т.д.

  * Создать файлы-конфиги для установленных пакетов. Например, для typescript-проекта - файл `tsconfig.json` с опциями компилятора. Для вебпака - `webpack.config.js` с настройками, откуда брать исходные файлы и куда класть артефакты билда и т.д.

  * Добавить в `package.json` скрипты запуска \ билда. Например, если это вебпак-проект, то 

    ```json
    "scripts": {
      "build": "webpack"  // <-- Добавили скрипт build
    },
    ```

    Здесь `build` - это имя скрипта, а `webpack` - можно воспринимать как консольную команду, которая выполнится при запуске скрипта.

## Ключи для npm init

### Дефолтные настройки типичных полей (-y)

```
npm init -y
```

Ключ `-y` позволяет автоматически ответить на все вопросы, которые конфигуратор проекта задает при создании нового проекта, вроде типа лицензии, автора, точки входа и т.д. Если не хотим заполнять их при создании, то ставим этот ключ, а потом при необходимости меняем в конфиге.

# Билд и запуск проекта

* Сборка и запуск проекта обычно осуществляется запуском скриптов, а скрипты пишутся исходя из характера проекта.

  * Но если "проект" очень простой, буквально пара файлов, то можно запустить их командой `node "путь/до/foobar.js"`

* Скрипты добавляются в файл конфига Node-проекта, `package.json`, в секцию `scripts`. На примере вебпак-проекта скрипты могли бы выглядеть примерно так:

  ```json
  "scripts": {
    "start": "webpack-dev-server --config webpack.dev.js",
    "build": "webpack --config webpack.prod.js",
    "test": "echo \"Error: no test specified\" && exit 1",
  }
  ```

* Скрипт запускается командой

  ```
  npm run имяСкрипта
  ```

* Структура описания скрипта `"имяСкрипта": "командаКоторуюНадоВыполнить"`. На примере фрагмента выше:

  * `build`, `start` и `test` - это имена скриптов.
  * `webpack --config webpack.prod.js` - это код скрипта, в котором `webpack` - это команда, `--config` - это ключ команды, а `webpack.prod.js` - это значение ключа.
  * Код скрипта можно воспринимать как обычную консольную команду.

* Так что как собрать и запустить конкретный проект - будет написано в конспектах про конкретные проекты. Обычно после установки пакетов в консоли становятся доступны соответствующие команды. Например, после установки typescript, становится доступна команда `tsc` для компиляции и ее можно использовать в коде скрипта. После установки вебпака становится доступна команда `webpack` и т.д.