# Состояния файлов

* `Untracked` - это все файлы в рабочей директории, которые не находятся под надзором гита.
* `Unmodified` - файлы под надзором гита, в которых не было изменений с момента последнего коммита.
* `Modified` - в файлах есть незакоммиченные изменения.
* `Staged` - файлы подготовлены к коммиту. В коммит они попадут именно в том виде, какой был на момент помещения в стейдж. Если после этого файлы снова изменить и не добавить в стейдж еще раз, то эти новые изменения не попадут в коммит (на примере показано в разделе про стейдж).

Графически схема переходов выглядит так:

<img src="img/files-state.png" alt="files-state" style="zoom:80%;" />

P.S. Я бы еще добавил стрелку от Staged до Modified в случае внесения изменений в файл после помещения его в стейдж. Может быть технически такая стрелка и не очень корректна, зато на практике есть такой момент.

![file-status-lifecycle.drawio](img/file-status-lifecycle.drawio.svg)



Путь файла:

* Добавляем в проект новый файл Person. Его состояние будет Untracked (??).
* Выполняем `git add Person`. Состояние становится Staged (A_).
  * Замечание: можно сказать, что он в этот момент Staged + Unmodified.
* Вносим изменения в файл. Он становится Staged + Modified (AM).
  * Т.е. по сути "в индексе, актуальный без неиндексированных изменений, но пока не закоммиченный".
* Коммитим файл.
  * Если сейчас выполнить git status, то увидим сообщение "nothing to commit, working tree clean". Т.е. как таковых статусов файлов не увидим, потому что все закоммичено и никаких изменений с момента коммита не было.
* Вносим изменения в файл. Он становится Modified (_M).
* Выполняем git add. Файл становится Modified (M_).
* Вносим изменения в файл. Он становится Modified (MM).
* 





```
Комбинации флагов

?? - файл не отслеживается.
A  - файл добавлен в индекс впервые и еще не закоммичен.
_M - отслеживаемый файл изменен в рабочей директории, изменения не внесены в индекс.
M_ - отслеживаемый файл добавлен в индекс, в рабочей директории после этого его не изменяли.
MM - отслеживаемый файл добавлен в индекс, и в рабочей директории после этого его изменили.

C  - надо повозиться, чтобы получить этот маркер, так что забей.
AD - новый файл был добавлен в индекс, а потом его удалили из рабочей директории.
D_ - файл удален из рабочей директории и это удаление добавлено в индекс.
```