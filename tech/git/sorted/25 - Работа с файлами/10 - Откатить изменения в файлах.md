# Откатить изменения в файле

```
git restore
```

git restore концептуально предназначен для отката изменений в файлах. git reset концептуально прездназначен для манипулирования указателями веток. Это косвенно тоже приводит к откату файлов, но git reset лучше не использовать для этих целей.

## До состояния индекса

```
git restore foobar/Person.ts
```

Сценарий такой: у нас был файл, мы что-то в нем поправили и добавили в индекс. Потом еще что-то поправили  и хотим откатиться до состояния, которое лежит в индексе. Эта команда нам поможет.

Если в индексе этого файла нет, то он откатится до состояния последнего коммита.

## До состояния ласт коммита

```
git restore --source=HEAD foobar/Person.ts
```

Сценарий такой: у нас был файл, мы что-то в нем поправили. Могли добавить эти изменения в индекс, а могли и не добавлять. Как бы то ни было, теперь мы хотим откатить файл до состояния как в последнем коммите. Эта команда нам поможет.

Если мы добавляли изменения в индекс, то они там останутся, т.е. эта команда индекс не затрагивает, только рабочую директорию.

Можно сделать сброс до ласт коммита за две команды: сначала удалить изменения из индекса, чтобы их там не было, а потом из файла:

```
git restore --stageg foobar/Person.ts  ; Сначала удаляем изменения файла из стейджа.
git restore foobar/Person.ts           ; Потом уже из рабочей директории.
```

## До состояния указанного коммита

```
git restore --source=ab34fe7 foobar/Person.ts
```

Просто указываем первые несколько букв из хэша коммита, из которого хотим брать состояние файла. Могут быть разные неожиданности, например если файла в том коммите вообще не было, тогда он удалится из рабочей директории.

# Откатить изменения во всех файлах

```
git reset .
```

Просто заменяем имя файла на точку `.` а все остальные правила такие же как и для одного файла.

# Через GUI

Если делать через GUI - выделяем нужный файл и `Ctrl + J` или меню `Commit > Revert changes`.