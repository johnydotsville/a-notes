# Концепция тайника (Stash)

Тайник (стэш) позволяет сохранить состояние `рабочей директории` и `индекса` без необходимости делать коммит.

Типичный сценарий: мы работаем над фичей, изменяем файлы, и тут приходит задача срочно исправить баг. В данный момент мы еще не доделали фичу и код находится в сыром виде, так что мы не хотим коммитить. Но гит не позволит сменить ветку, пока в рабочке или в индексе есть незакоммиченные изменения.

В этой ситуации нам поможет стэш. Мы можем положить в стэш все изменения, а рабочка и индекс вернутся к состоянию HEAD и гит позволит нам переключиться. А когда мы закончим с багом и вернемся дальше к фиче, то сможем извлечь из стэша состояние рабочки и индекса обратно и продолжить разрабатывать фичу.

# Стэш и ветки

Стэш является самостоятельным объектом. Он не привязан к веткам. Т.е. если мы переключаемся между ветками, добавляем что-то в стэш, то записи стэша будут накапливаться друг над другом и нам надо будет четко понимать, из какой записи мы хотим извлечь состояние.