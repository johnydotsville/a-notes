# Merge-слияние

Проходит в две команды:

* Переключаемся на ветку, `КУДА` будем вливать:

  ```
  git checkout master
  ```

* Указываем ветку, `ОТКУДА` будем забирать код:

  ```
  git merge feature/f1
  ```

  

# Механика merge-слияния

При merge-слиянии используется метод `Three-way merge`. Работает примерно так:

* Допустим, мы сливаем ветки master и feature.
  * Льем в master из feature.
* Гит находит общего предка сливаемых веток. Пусть это коммит P.
* Сравнивает последний коммит master (M, он называется HEAD) с P и находит изменения (CM).
* Сравнивает последний коммит feature (F, он называется MERGE_HEAD) с P и находит изменения (CF).
* Формирует новый коммит и помещает в него все найденные изменения.
  * Если обнаруживается конфликт между CM и CF, тогда надо вручную указать, что мы хотим видеть в итоговом коммите.
* Т.о., у нового коммита становится два родителя.

![merge-mechanics.drawio](img/merge-mechanics.drawio.svg)

