# Merge-слияние

Проходит в две команды:

* Переключаемся на ветку, `В` которую будет вливать:

  ```
  git checkout master
  ```

* Указываем ветку, `ИЗ` которой будем забирать код:

  ```
  git merge feature/f1
  ```

  

# Механика merge-слияния

При merge-слиянии используется метод `Three-way merge`. Работает примерно так:

* Допустим, мы сливаем ветки master и feature.
  * Льем в master из feature.
* Гит находит общего предка сливаемых веток. Пусть это коммит P.
* Сравнивает последний коммит master (M) с P и находит изменения (CM).
  * Этот коммит называется HEAD.
* Сравнивает последний коммит feature (F) с P и находит изменения (CF).
  * А этот коммит называется MERGE_HEAD.
* Формирует новый коммит и помещает в него все найденные изменения.
  * Если обнаруживается конфликт между CM и CF, тогда надо вручную указать, что мы хотим видеть в итоговом коммите.
* Т.о., у нового коммита становится два родителя.

TODO: нарисовать картинку мержа для наглядности.
