# Один репозиторий на микросервис

Еще называется Multirepo pattern. Каждый микросервис находится в своем собственном репозитории.

Плюсы:

* Изменения в репозитории активируют только один билд. Остальные микросервисы не затрагиваются. TODO: тут надо дополнительно загуглить еще про CI CD, там упоминалось что-то вроде того, что если все лежит в куче и если одно что-то не сбилдится, то пока это не починишь, не сможешь билдить остальное.

Минусы:

* Если изменения в одном сервисе приводят к необходимости выполнять изменения и в другом сервисе, то это признак плохо проведенной границы и возможно сервисы стоит объединить. Потому что иначе изменения придется вводить через два коммита, но атомарным стилем, а это потенциальные сложности, если например один коммит прошел нормально, а второй нет.
* Если нужно использовать какой-то общий код между несколькими сервисами, то приходится оформлять его в виде отдельного артефакта и дублировать в каждый репозиторий. Это усложняет обновление этого общего кода.

# Монорепо

Это подход, когда все сервисы хранятся в одном репозитории.

Плюсы:

* Это упрощает совместное использование кода, потому что любой код доступен по всем сервисам.
* Упрощает внесение изменений разом в несколько сервисов в атомарном стиле.

Минусы:

* Сложнее организовать билд, потому что изменения могут приводить к необходимости билдить сразу несколько сервисов и билды некоторых изменений могут пересекаться.

Примеры упоминаемых инструментов:

* Bazel
* graph-based build system

# Ownership

Есть еще несколько паттернов для организации "владения" репозиторием. Strong ownership, weak ownership, почитать об этом отдельно.