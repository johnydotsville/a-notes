# Final и поля

Ключевое слово final, примененное к полю, позволяет объявить так называемое “конечное поле”. Оно *не получает* значение по умолчанию, в отличие от обычных полей, и может быть присвоено либо при объявлении, либо в конструкторе (либо в *блоке инициализации*). В другом методе присвоение запрещено. Если не инициализировать его нигде, будет ошибка компиляции.

```java
class Employee {
    private final String name = “Patrick”;  // Либо тут
    
    public Employee() {
		//this.name = "Petr";  // Либо тут
    }
    
    public String getName() {
		return name;
    }
    
    public void setName(String name) {
		//this.name = name;  // Ошибка компиляции
		//this.name = "Patrick";  // Тоже
    }
}

```

Поле final концептуально означает, что поле не должно изменяться. Но если поместить в него объект, который имеет модифицирующие методы, то фактически объект изменит свое состояние, например:

```java
public class MyProgram
{
    public static void main(String[] args)
    {
        Employee vasya = new Employee();
        vasya.becomeRich();
    }
}

class Employee {
    private final Salary salary = new Salary();  // Переприсвоить нельзя
    
    public void becomeRich() {  // Но изменить состояние - можно
        salary.raiseSalary();
    }
}

class Salary {
    private int salary = 5000;
    
    public void raiseSalary() {
        salary += 1000;
    }
}

```

Зарплата увеличится. Поэтому final логично использовать либо с простыми типами, либо с “конечными классами”, т.е. классами, методы которых не позволяют менять состояние объекта, вроде класса String.

# "Статические константы"

Публичные *static final* поля называют “статическими константами”. *System.out* является такой статической константой и содержит объект `PrintStream`, который обычными средствами заменить нельзя. Но в `System` есть метод `setOut()`, который может ее изменить за счет того, что это платформо-ориентированный метод и поэтому правила джавы ему нипочем.

# Final и классы

final, примененный к классу, означает, что нельзя наследоваться от этого класса. У final класса все методы автоматически становятся final (но не поля, т.е. поля не получают автоматически модификатор final).