# Idea

В идее можно выбрать *File > Project Structure > Project Settings > SDK > Add SDK*, скачать нужную версию и пользоваться.

# Windows

В Windows переключить вручную довольно просто. Идем в `Пуск > Настройки (шестеренка) > Система > О программе > Дополнительные параметры системы > кнопка Переменные среды` и:

* Под каждую версию JDK создаем свою вспомогательную переменную среды (в разделе пользовательских):

  ```
  JAVA_HOME_8 = C:\Program Files\Java\jdk1.8.0_311
  JAVA_HOME_11 = C:\Program Files\Java\jdk-11.0.13
  ```

  Если JDK идейная, то она их кладет в свои папки, нужно указать путь до корневой, например:

  ```
  C:\Users\JohNy\.jdks\corretto-11.0.16.1
  ```

* Создаем там же собственно переменную *JAVA_HOME*:

  ```java
  JAVA_HOME = %JAVA_HOME_8%
  ```

  С помощью нее будем переключаться.

* В *Path* (опять же, пользовательский) добавляем путь до папки *jdk/bin*:

  ```java
  %JAVA_HOME%\bin
  ```

Теперь для переключения достаточно в JAVA_HOME подставить нужную вспомогательную переменную. Главное не забывать, что после замены нужно нажимать ОК в окне "Переменные среды" и перезапускать консоль.

Возможные проблемы:

* Когда я установил последовательно java 8 и 11, то переключение не работало из-за наличия в глобальной переменной Path вот этих строчек:

  ```
  C:\Program Files\Common Files\Oracle\Java\javapath
  C:\Program Files (x86)\Common Files\Oracle\Java\javapath
  ```

  После их удаления заработало. Последствия удаления пока неизвестны.

# Linux

## Установка sdkman

* Под Windows работает только через wsl, я не стал разбираться. Так что по сути только Linux.

* SDKMAN не хотел работать при установке в дефолтную директорию

* Ставить в кастомную вот так:

  ```
  export SDKMAN_DIR="/home/johny/sdkmancustomlocation" && curl -s "https://get.sdkman.io" | bash
  ```

* Потом надо эту директорию в переменные окружения добавить

  ```
  source "/home/johny/sdkmancustomlocation/bin/sdkman-init.sh"
  ```


  главное не ошибиться с путем и ввести правильный, как был в export из пред. пункта

* Команда `sdk version` чтобы проверить что все поставилось нормально

## Установка JDK

* Посмотреть, какие вообще версии джавы можно ставить, команда

  ```
  sdk list java
  ```

* Установить нужную версию

  ```
  sdk install java 8.0.302-open
  sdk install java 17.0.2-open
  ```

* Переключить текущую версию

  ```
  sdk use java 8.0.302-open
  sdk use java 17.0.2-open
  ```

