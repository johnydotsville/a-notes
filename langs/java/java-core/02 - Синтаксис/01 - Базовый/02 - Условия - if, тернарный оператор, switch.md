

# if

Классика, не о чем писать

# Тернарный оператор

* В английском варианте может звучать как "conditional оператор". 
* Это условный оператор, который в зависимости от условия возвращает одно или другое значение:

```java
public int selectGreather(int x, int y) {
    return x > y ? x : y;
}
```

* Имеет формат `условие ? если true : если false`

* Может использоваться только для значений, т.е. вместо x и y нельзя, например, написать какой-то код:

  ```java
  public void printGreather(int x, int y) {
      x > y ? System.out.println("x > y") : System.out.println("y > x");  // Ошибка! Not a statement
  }
  ```

  Но можно, например, вызывать функции. Главное, чтобы возвращалось какое-то значение:

  ```java
  public int selectGreather(int x, int y) {
      return x > y ? foo() : bar();
  }
  
  public int foo() {
      return 1;
  }
  
  public int bar() {
      return 2;
  }
  ```


# switch

В современной Java switch может выступать в качестве оператора или выражения. В обоих случаях есть общие свойства в поведении, а есть отличия. Общие:

* Можно использовать в качестве "переключателя" строки, числа, перечисления.
* Для определения секции можно использовать несколько значений переключателя.
* В секции можно полноценно писать многострочный код, объявлять переменные, вызывать методы.

## Оператор

Как оператор, switch имеет такие характеристики:

* Каждую секцию надо завершать оператором break, иначе выполнение пойдет по следующим пунктам, пока не наткнется на break или оператор switch не закончится.
* Каждая секция имеет свою область видимости, но в секции default она как бы общая со всеми.

```java
String month = "Jun";

String feel = "";
switch (month) {
    case "Dec", "Jan", "Feb":  // Фигурные скобки секциям не нужны, код отделяется : и до след. case
        feel = "Холодно";
        int rating = 5;  // Можно объявлять переменные
        warmUp();  // и вызывать методы
        break;  // break нужен для выхода из оператора switch
    case "Mar", "Apr":
        feel = "Сыро";
        int raiting = 4;  // Ok, области видимости у секций разные, нет конфликта имен переменных
        break;
    case "May", "Aug", "Sep":
        feel = "Здорово";
        return;  // Вместо выхода из оператора можно сделать возврат из метода
    case "Jun", "Jul":  // Можно использовать несколько значений для секции
        feel = "Жарковато";
        break;
    case "Oct":  // Или пользоваться таким синтаксисом
    case "Nov":
        feel = "Дожди";
        break;
    default:
        feel = "Как повезет";
        int raiting = 0;  // Ошибка! Variable 'raiting' is already defined in the scope
}
```

## Выражение

Как выражение, switch имеет такие характеристики:

* Возвращает результат, а не просто изменяет поток выполнения программы. Тип результата определяется типом переменной, куда он кладется (если указан явно), или вычисляется автоматически на основе секций.
* Поддерживает многострочные секции. Для возврата результата из секции используется ключевое слово `yield`, потому что return означает возврат из метода, а значит не может быть однозначно истолкован.
* Для оформления многострочной секции может использоваться как лямбда-синтаксис, так и фигурные скобки. Смешивать оба стиля нельзя.
* Секция default имеет собственную область видимости, поэтому теперь спокойно можно использовать в ней переменные с такими же именами, как и в других секциях.

```java
Month month = Month.Feb;

String result = switch (month) {
    case Feb -> {  // Если секция многострочная, нужны скобки
        var message = "Дело идет к весне!";
        yield message;  // yield возвращает значение из секции
    }
    case Mar, Apr -> "А вот и весна";  // Все так же доступны несколько значений
    case May -> return "Выход из метода здесь невозможен";  // Ошибка!
    case Jun: {  // Вариант оформления многострочной секции через фигурные скобки
        yield "Можно использовать разные синтаксисы, но комбинировать их нельзя";
    }
    default -> {  // default имеет собственную область видимости
        var message = "Межсезонье";
        yield message;
    }
};
```



