# Финализатор

У класса Object есть метод `finalize`, который можно переопределить:

```java
public class Finalizable {
    
    @Override
    public void finalize() {
        ... 
    }
    
}
```

Этот метод вызывается, когда JVM принимает решение о том, что надо убрать экземпляр объекта из памяти.

Использовать финализатор теперь считается [плохой практикой](https://openjdk.org/jeps/421) и не рекомендуется по нескольким причинам:

* Непредсказуемость момента выполнения этого метода. Экземпляр может находиться в памяти весьма долго, поэтому финализатор плохо подходит, например, для кода по освобождению ресурсов операционной системы (файловые дескрипторы и т.д.). Ресурсы могут закончиться раньше, чем начнут выполняться финализаторы.
* Дополнительные расходы на создание и унитожение экземпляров, реализующих финализатор.
* Если в финализаторе возникнет необработанное исключение, экземпляр не уберется из памяти в текущий заход GC и будет висеть до следующей уборки мусора.

# Что использовать взамен?

* try-with-resources
* [cleaners](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ref/Cleaner.html)