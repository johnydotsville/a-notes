# Конструктор

Конструктор - это метод, который выполняется при создании экземпляра класса. Имя конструктора совпадает с именем класса:

```java
public class Player {
    private String nickname;

    public Player(String nickname) {  // <-- Конструктор
        this.nickname = nickname;
    }
}
```

# Дефолтный конструктор

Он же "конструктор по умолчанию", "конструктор без параметров". Компилятор автоматически генерирует дефолтный конструктор, не имеющий параметров.

Но как только мы описываем любой конструктор самостоятельно, то компилятор не генерирует дефолтный. Так что конструктор без параметров в этом случае придется дописать самостоятельно, если он нужен.

# Чейнинг конструкторов

Когда мы создали несколько конструкторов с разным набором параметров, то мы можем при вызове одного конструктора вызывать другой, оформив таким образом цепочку вызова конструкторов. Это может быть удобно, например, для устранения дублирования кода:

```java
public class Player {
    private String nickname;
    private String race;

    public Player() {
        // Без явного чейнинга этот конструктор не будет вызван, если мы
        // воспользуемся другими конструкторами для создания экземпляра класса
    }
    
    public Player(String nickname) {
        System.out.println("Конструктор с одним параметром nickname");
        this.nickname = nickname;
    }

    public Player(String nickname, String race) {
        this(nickname);  // <-- Чейним конструкторы

        System.out.println("Конструктор с двумя параметрами nickname и race");
        this.race = race;
    }
}

Player player = new Player("JohNy", "human");
// Наблюдаем последовательность выполнения конструкторов:
Конструктор с одним параметром nickname
Конструктор с двумя параметрами nickname и race
```

Без явного чейнинга выполняется только тот конструктор, который мы вызываем (кроме случая с наследованием, но об этом - в конспекте про наследование). Т.е. если у нас, например, есть два конструктора - А без параметров, и В с параметрами, и мы вызовем конструктор В, то конструктор А вызван не будет.

Команда `this(параметры)` обязана стоять на первой строке конструктора.

# Приватные конструкторы

Любой конструктор можно сделать приватным, чтобы привязать к созданию экземпляра класса какую-нибудь логику:

```java
public class Nonpublic {
    private Nonpublic instance;

    private Nonpublic() { }  // Делаем конструктор приватным

    public Nonpublic getInstance() {
        if (instance == null) {
            instance = new Nonpublic();
        }
        return instance;
    }
}
```

