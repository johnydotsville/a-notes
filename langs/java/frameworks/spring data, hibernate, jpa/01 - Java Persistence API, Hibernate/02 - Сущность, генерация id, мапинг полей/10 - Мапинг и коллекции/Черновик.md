# Не-сущность Фотографии сотрудников

Пусть у нас есть таблица, хранящая фотографии сотрудников:

```
emp_photo(id, emp_id, filename, size_kb, width_px, height_px)
```

В программе не будем делать отдельную сущность Фотография, а посмотрим как можно сделать мапинг данных из этой таблицы на коллекцию внутри сущности Сотрудник.



TODO: вероятно для всех примеров будут использоваться одни и те же аннотации, так что после проработки можно эти аннотации вынести сюда с комментариями.

# Мапинг Set, один столбец таблицы

Можно замапить на коллекцию какой-нибудь один столблец таблицы. Например, выберем коллекцию фотографий, но не все поля, а только название файла:

```java
@Entity
@Table(name = "employee")
@Getter @Setter
public class Employee {

    @Id
    @Column(name = "id")
    @GeneratedValue(strategy = GenerationType.TABLE, generator = "employee_id_gen")
    @SequenceGenerator(name = "employee_id_gen", sequenceName = "employee_id_seq", allocationSize = 1)
    private long id;

    @Column(name = "name")
    private String name;

    @ElementCollection  // <-- Коллекция встраеваемых классов
    @CollectionTable(
        name = "emp_photo",  // <-- Имя таблицы, содержащей элементы для коллекции
        joinColumns = @JoinColumn(name = "emp_id"))  // <-- Имя в таблице-коллекции
    @Column(name = "filename")  // <-- Имя колонки, из которой берем значения для коллекции
    private Set<String> photos = new HashSet<>();

}
```

